# Game-agnostic 24h config (corrected keys + memory tuning)

# VLM Hints - Vision-based UI detection
METABONK_DYNAMIC_UI_EXPLORATION=1
METABONK_DYNAMIC_UI_USE_VLM_HINTS=1
METABONK_VLM_HINT_MODEL=llava:7b
METABONK_UI_VLM_HINTS_INTERVAL_S=3.0
METABONK_VLM_HINT_MAX_TOKENS=256
METABONK_VLM_HINT_UPSCALE_MAX_SIDE=512

# Dynamic Exploration - Context-aware epsilon (correct keys)
METABONK_DYNAMIC_EPS_BASE=0.1          # Gameplay exploration
METABONK_DYNAMIC_EPS_UI=0.8            # UI exploration (high)
METABONK_DYNAMIC_EPS_STUCK=0.9         # Stuck exploration (very high)

# State classifier thresholds (tunable, game-agnostic)
METABONK_STATE_TEXT_DENSITY_THRESH=0.08
METABONK_STATE_MOTION_THRESH=0.10
METABONK_STATE_UI_SHAPE_THRESH=3

# Intrinsic Rewards - Incentivize UI progression
METABONK_INTRINSIC_REWARD=1
METABONK_INTRINSIC_UI_CHANGE_BONUS=0.01
METABONK_INTRINSIC_UI_TO_GAMEPLAY_BONUS=1.0
METABONK_INTRINSIC_STUCK_ESCAPE_BONUS=0.5
METABONK_INTRINSIC_UI_NEW_SCENE_BONUS=0.001

# System2 Reasoning - Smart gating
METABONK_SYSTEM2_ENABLED=1
METABONK_SYSTEM2_BACKEND=ollama
METABONK_SYSTEM2_MODEL=llava:7b
METABONK_SYSTEM2_TRIGGER_MODE=smart
METABONK_SYSTEM2_PERIODIC_PROB=0.01

# Meta-Learning - Pattern memory and transfer
METABONK_META_LEARNING=1
METABONK_META_LEARNER_MIN_SIMILARITY=0.8
METABONK_META_LEARNER_FOLLOW_PROB=0.7
METABONK_META_LEARNER_SCENE_COOLDOWN_S=2.0

# Stream Quality (not game-specific)
METABONK_STREAM_SELF_HEAL_S=10
METABONK_STREAM_FROZEN_S=4
METABONK_STREAM_FROZEN_DIFF=1.0

# GPU load optimizations (keep 5 workers + VLM)
METABONK_STREAM_FPS=60
METABONK_STREAM_NVENC_TARGET_SIZE=1280x720
# SGLang removed (Ollama-only run)

# Steam (required for game boot)
METABONK_STEAM_AUTOSTART=1
METABONK_STEAM_AUTOSTART_WAIT_S=45

# BonkLink input (fix Rewired CustomController selection)
METABONK_BONKLINK_REWIRED_DEBUG=1
METABONK_BONKLINK_REWIRED_MIN_AXIS=0
METABONK_BONKLINK_REWIRED_MIN_BUTTONS=0

# BonkLink fallback: disable plugin input when no layouts are available.
METABONK_DISABLE_BONKLINK=1
METABONK_USE_BONKLINK=0

# OS-level input backend (BonkLink disabled)
METABONK_INPUT_BACKEND=xdotool
METABONK_INPUT_BUTTONS=LEFT

# Worker Configuration
METABONK_WORKERS_STARTUP_TIMEOUT_S=300
