# VLM Hints - Vision-based UI detection
METABONK_DYNAMIC_UI_EXPLORATION=1
METABONK_DYNAMIC_UI_USE_VLM_HINTS=1
METABONK_VLM_HINT_MODEL=llava:7b
METABONK_UI_VLM_HINTS_INTERVAL_S=3.0
METABONK_VLM_HINT_MAX_TOKENS=256
METABONK_VLM_HINT_UPSCALE_MAX_SIDE=512

# Dynamic Exploration - Context-aware epsilon
# Note: DynamicExplorationPolicy reads METABONK_DYNAMIC_EPS_* (not METABONK_UI_*)
METABONK_DYNAMIC_EPS_BASE=0.1          # Gameplay exploration
METABONK_DYNAMIC_EPS_UI=0.8            # UI exploration (high)
METABONK_DYNAMIC_EPS_STUCK=0.9         # Stuck exploration (very high)
# State classifier thresholds (tunable, game-agnostic)
METABONK_STATE_TEXT_DENSITY_THRESH=0.08
METABONK_STATE_MOTION_THRESH=0.10
METABONK_STATE_UI_SHAPE_THRESH=3
# (Legacy keys retained for visibility; not used by code)
METABONK_UI_BASE_EPS=0.1               # Gameplay exploration (unused)
METABONK_UI_UI_EPS=0.8                 # UI exploration (unused)
METABONK_UI_STUCK_EPS=0.9              # Stuck exploration (unused)
METABONK_UI_STUCK_THRESHOLD=100        # Frames before "stuck" (unused)

# Intrinsic Rewards - Incentivize UI progression
METABONK_INTRINSIC_REWARD=1
METABONK_INTRINSIC_UI_CHANGE_BONUS=0.01
METABONK_INTRINSIC_UI_TO_GAMEPLAY_BONUS=1.0
METABONK_INTRINSIC_STUCK_ESCAPE_BONUS=0.5
METABONK_INTRINSIC_UI_NEW_SCENE_BONUS=0.001

# System2 Reasoning - Ollama backend
METABONK_SYSTEM2_ENABLED=1
METABONK_SYSTEM2_BACKEND=ollama
METABONK_SYSTEM2_MODEL=llava:7b
METABONK_SYSTEM2_TRIGGER_MODE=smart
METABONK_SYSTEM2_PERIODIC_PROB=0.01

# Meta-Learning - Pattern memory and transfer
METABONK_META_LEARNING=1
METABONK_META_LEARNER_MIN_SIMILARITY=0.8
METABONK_META_LEARNER_FOLLOW_PROB=0.7
METABONK_META_LEARNER_SCENE_COOLDOWN_S=2.0

# Stream Quality - SOTA Settings (Ollama-only freed GPU headroom)
METABONK_STREAM_SELF_HEAL_S=10
METABONK_STREAM_FROZEN_S=4
METABONK_STREAM_FROZEN_DIFF=1.0
METABONK_STREAM_FPS=60
METABONK_STREAM_NVENC_TARGET_SIZE=1920x1080
METABONK_STREAM_BITRATE=8000000
METABONK_STREAM_QUALITY_PRESET=p4

# Steam (required for game boot)
METABONK_STEAM_AUTOSTART=1
METABONK_STEAM_AUTOSTART_WAIT_S=45

# BonkLink input (fix Rewired CustomController selection)
METABONK_BONKLINK_REWIRED_DEBUG=1
METABONK_BONKLINK_REWIRED_MIN_AXIS=0
METABONK_BONKLINK_REWIRED_MIN_BUTTONS=0

# BonkLink fallback: disable plugin input when no layouts are available.
METABONK_DISABLE_BONKLINK=1
METABONK_USE_BONKLINK=0

# OS-level input backend (BonkLink disabled)
METABONK_INPUT_BACKEND=xdotool
METABONK_INPUT_BUTTONS=LEFT
# Allow xdotool to fall back to largest visible window when no PID match
METABONK_INPUT_XDO_ALLOW_ANY=1
METABONK_REQUIRE_INPUT=0

# Worker Configuration
METABONK_WORKERS_STARTUP_TIMEOUT_S=300
